name: Infinity Conquer
type: TankUnitType
hitSize: 46
treadPullOffset: 1
speed: 0.48
health: 22000
armor: 26
crushDamage: 25f / 5
rotateSpeed: 0.8
treadRects: [
  {
    x: -88.5
    y: 36.5
    width: 56
    height: 73
  }
  {
    x: -91.5
    y: -73.5
    width: 29
    height: 17
  }
  {
    x: -56.5
    y: -106.5
    width: 39
    height: 19
  }
]

weapons: [
        {
        name: infinity-conquer-weapon
	shootSound: largeCannon
	layerOffset: 0.1
	reload: 100
	shootY: 32.5
	shake: 5
	recoil: 5
	rotate: true
	rotateSpeed: 0.6
	mirror: false
	x: 0
	y: -2
	shadow: 50
	heatColor: f9350f
	shootWarmupSpeed: 0.06
	cooldownTime: 110
	heatColor: f9350f
	minWarmup: 0.9

	parts: [
              {
	      type: RegionPart
              suffix: -glow
	      color: Color.red
	      blending: additive
	      outline: false
              mirror: false
	      }
              {
	      type: RegionPart
              suffix: -sides
	      progress: warmup
	      mirror: true
	      under: true
	      moveX: 0.75
	      moveY: 0.75
	      moveRot: 82
	      x: 9.25
	      y: 2
	}
        {
	        type: RegionPart
                suffix: -sinks
		progress: warmup
		mirror: true
		under: true
		heatColor: new Color(1f, 0.1f, 0.1f)
		moveX: 4.25
		moveY: -3.75
		x: 8
		y: -8.5
	}
        {
	        type: RegionPart
                suffix: -sinks-heat
		blending: additive
		progress: warmup
		mirror: true
		outline: false
		colorTo: new Color(1f, 0f, 0f, 0.5f)
		color: colorTo.cpy().a(0f)
		moveX: 4.25
		moveY: -3.75
		x: 8
		y: -8.5
	}
	]

	for(int i: 1 i <= 3 i++){
		int fi: i
		parts.add(new RegionPart("-blade"){{
			progress: PartProgress.warmup.delay((3 - fi) * 0.3f).blend(PartProgress.reload, 0.3f)
			heatProgress: PartProgress.heat.add(0.3f).min(PartProgress.warmup)
			heatColor: new Color(1f, 0.1f, 0.1f)
			mirror: true
			under: true
			moveRot: -40f * fi
			moveX: 3
			layerOffset: -0.002

			x: 11 / 4
		}})
	}

	bullet: new BasicBulletType(8f, 360f){{
		sprite: "missile-large"
		width: 12
		height: 20
		lifetime: 35
		hitSize: 6

		smokeEffect: Fx.shootSmokeTitan
		pierceCap: 3
		pierce: true
		pierceBuilding: true
		hitColor: 
		backColor: 
		trailColor: Color.valueOf("feb380")
		frontColor: Color.white
		trailWidth: 4
		trailLength: 9
		hitEffect: despawnEffect: Fx.massiveExplosion

		shootEffect: new ExplosionEffect(){{
			lifetime: 40
			waveStroke: 4
			waveColor: 
			sparkColor: trailColor
			waveRad: 15
			smokeSize: 5
			smokes: 8
			smokeSizeBase: 0
			smokeColor: trailColor
			sparks: 8
			sparkRad: 40
			sparkLen: 4
			sparkStroke: 3
		}}

		int count: 6
		for(int j: 0 j < count j++){
			int s: j
			for(int i : Mathf.signs){
				float fin: 0.05f + (j + 1) / (float)count
				float spd: speed
				float life: lifetime / Mathf.lerp(fin, 1f, 0.5f)
				spawnBullets.add(new BasicBulletType(spd * fin, 60){{
					drag: 0.002
					width: 12
					height: 11
					lifetime: life + 5
					weaveRandom: false
					hitSize: 5
					pierceCap: 2
					pierce: true
					pierceBuilding: true
					hitColor: 
					backColor: 
					trailColor: Color.valueOf("feb380")
					frontColor: Color.white
					trailWidth: 2.5
					trailLength: 7
					weaveScale: (3f + s/2f) / 1.2
					weaveMag: i * (4f - fin * 2f)

					splashDamage: 65
					splashDamageRadius: 30
					despawnEffect: new ExplosionEffect(){{
						lifetime: 50
						waveStroke: 4
						waveColor: 
						sparkColor: trailColor
						waveRad: 30
						smokeSize: 7
						smokes: 6
						smokeSizeBase: 0
						smokeColor: trailColor
						sparks: 5
						sparkRad: 30
						sparkLen: 3
						sparkStroke: 1.5
					}}
				}})
			}
		}
	}}
}})

parts.add(new RegionPart("-glow"){{
	color: Color.red
	blending: Blending.additive
	layer: -1
	outline: false
}})
}}
